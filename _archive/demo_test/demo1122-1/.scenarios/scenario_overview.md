# 业务场景分析报告 [analysis-2025-11-23-P001-v1.0]

## [F001] 导航栏访问
### ✅ 正常流程 (Happy Path)
- 固定顶部展示，滚动后仍保持可见。
- 未登录显示登录/注册入口；已登录显示用户名+头像。
- 显示主要功能入口：首页、查询、个人中心；当前页面高亮。
- 点击登录跳转 P003；点击注册跳转 P004；点击用户名展开下拉菜单。
- 端到端：从首页进行登录/注册导航，交互与高亮一致。
### ❌ 异常流程 (Sad Path)
- 登录态过期时触发任何导航操作应自动跳转 P003 登录页。
### ⚠️ 边界条件 (Edge Case)
- 断网时登录操作给出提示并恢复可点击；刷新后导航高亮状态保持。
- 用户信息接口失败时显示占位头像与用户名缩写，保障可用性。

## [F002] 快捷入口访问
### ✅ 正常流程 (Happy Path)
- 首页显示常用功能卡片：车票查询、订单查询、改签退票。
- 已登录显示个性化推荐区域；历史记录最多显示 5 条。
- 点击车票查询跳转 P002；点击订单查询跳转 P006。
- 点击历史记录自动填充查询条件；清除历史记录需确认弹窗。
- 未登录仅显示基础功能，不展示个性化与历史记录。
### ❌ 异常流程 (Sad Path)
- 未登录尝试访问个性化推荐被拦截并提示登录。
- 推荐加载失败时降级为默认入口卡片。
### ⚠️ 边界条件 (Edge Case)
- 网络断开下推荐与历史记录分别降级或显示离线占位/本地缓存。
- 快速连续点击入口仅跳转一次并短暂禁用按钮防止重复。
- 无历史记录时显示“暂无历史记录”占位提示。

---
覆盖说明
- F001 共 9 条子需求、F002 共 9 条子需求，均提供至少 1 个对应场景，且包含端到端、异常与边界覆盖。
- 规则反转：对 business_logic 子需求逐条提供异常场景（F001-S09、F002-S08、F002-S09）。
- 智能补充：网络、并发、防抖、空列表占位等以 @req:Fxxx-Auto 标注。